"use client"

import { useState } from "react"
import { Card } from "@/components/ui/card"
import { Badge } from "@/components/ui/badge"
import { Button } from "@/components/ui/button"
import { ScrollArea } from "@/components/ui/scroll-area"
import { CheckCircle2, Clock, Truck, Hammer, Package, AlertTriangle } from "lucide-react"

type DayTask = {
  day: number
  title: string
  tasks: string[]
  deliveries?: string[]
  notes?: string[]
}

const phase1Tasks: DayTask[] = [
  {
    day: 1,
    title: "اليوم الأول",
    tasks: ["معاينة الموقع وترتيب اتفاقيات التكسير", "تجهيز سباكة", "تجهيز كهرباء", "تجهيز مبيض"],
    deliveries: ["التعديلات المعمارية وتشوين"],
  },
  {
    day: 2,
    title: "اليوم الثاني - بناء",
    tasks: ["تأسيس سباكة دق وتكسير وتركيب البوب", "تأسيس كهرباء دق وتكسير وتركيب علب الفكون", "تجهيز مبيض محاره"],
    deliveries: ["تجهيز خامات البناء"],
  },
  {
    day: 3,
    title: "اليوم الثالث",
    tasks: ["استكمال أعمال السباكة", "استكمال أعمال الكهرباء", "استكمال أعمال مباني إن وجد"],
    deliveries: ["معاينة سباكة", "معاينة كهرباء"],
  },
  {
    day: 4,
    title: "اليوم الرابع",
    tasks: ["معاينة سباكة", "معاينة كهرباء", "معاينة مبيض محاره"],
  },
  {
    day: 5,
    title: "اليوم الخامس",
    tasks: ["الرد بتنفيذ الفكون من المقاول", "استكمال أعمال المحارة الحمامات"],
    deliveries: ["تجهيز العزل"],
  },
  {
    day: 6,
    title: "اليوم السادس",
    tasks: ["تأسيس الكهرباء ترك الف وتركيب كونك", "استكمال أعمال السباكة", "عمل اختبار العزل"],
  },
  {
    day: 7,
    title: "اليوم السابع",
    tasks: ["إجازة نهاية الأسبوع"],
    deliveries: ["طلب عهدة"],
  },
  {
    day: 8,
    title: "اليوم الثامن",
    tasks: ["استكمال تشوين إن وجد", "تكسير + مون وتعبئة ونظافة الموقع"],
  },
  {
    day: 9,
    title: "اليوم التاسع",
    tasks: ["البدء في أعمال المحارة", "معاينة فكون"],
  },
  {
    day: 10,
    title: "اليوم العاشر",
    tasks: ["استكمال أعمال الكهرباء تأسيس", "الانتهاء من بند الكهرباء"],
  },
  {
    day: 11,
    title: "اليوم الحادي عشر",
    tasks: ["نظافة الموقع"],
    deliveries: ["ارسال مقاسة الفكون من المقاول", "تصفية عهدة", "طلب الدفعة الثانية"],
  },
  {
    day: 12,
    title: "اليوم الثاني عشر",
    tasks: ["استلام مدير المنطقة", "ارسال فيديو للعميل"],
  },
  {
    day: 13,
    title: "اليوم الثالث عشر",
    tasks: ["توريد نواقص إن وجد", "استلام الجودة"],
  },
  {
    day: 14,
    title: "اليوم الرابع عشر",
    tasks: ["إجازة نهاية الأسبوع"],
    deliveries: ["طلب عهدة"],
  },
  {
    day: 15,
    title: "اليوم الخامس عشر",
    tasks: ["عمل ملاحظات", "الانتهاء من المرحلة"],
    deliveries: ["ارسال فيديو انتهاء المرحلة", "معاينة مبيض محاره"],
  },
]

const phase2Tasks: DayTask[] = [
  {
    day: 1,
    title: "اليوم الأول",
    tasks: [
      "التأكد من دفع العميل الدفعة الثانية + دفع الإضافات",
      "حصن كميات أعمال المحارة",
      "مراجعة تصميم الجبسون بورد مع المصمم",
      "طلب حصن كميات الكهرباء",
      "طلب سقالات خاصة إن وجد ارتفاعات",
    ],
    deliveries: ["طلب عهدة"],
  },
  {
    day: 2,
    title: "اليوم الثاني",
    tasks: ["معاينة مبيض محاره مع المكتب الفني", "المصن - أعمال المحاره"],
    deliveries: ["توريد السقالات الخاصة", "طلب خامات الجبسون بورد", "طلب توريد إضاءة الكهرباء"],
  },
  {
    day: 3,
    title: "اليوم الثالث",
    tasks: ["البدء في أعمال المحارة"],
    deliveries: ["توريد خامات الديكور تشوين الاسمنت وجس", "مراجعة حصن الكهرباء مع المكتب الفني"],
  },
  {
    day: 4,
    title: "اليوم الرابع",
    tasks: ["استكمال أعمال المحارة"],
  },
  {
    day: 5,
    title: "اليوم الخامس",
    tasks: ["استكمال أعمال المحارة"],
  },
  {
    day: 6,
    title: "اليوم السادس",
    tasks: ["الانتهاء من أعمال بند المحارة", "عمل الملاحظات"],
    deliveries: ["ارسال العهدة", "توريد نواقص الجس إن وجد"],
  },
  {
    day: 7,
    title: "اليوم السابع",
    tasks: ["إجازة نهاية الأسبوع"],
    deliveries: ["طلب عهدة"],
  },
  {
    day: 8,
    title: "اليوم الثامن",
    tasks: ["رسم التصميم على السقف ومراجعة المقاسات", "توصيل بلان الجبسون بورد للصنايعي"],
    deliveries: ["معاينة كهرباء", "مراجعة خامات الجس مع الصنايعي وطلب النواقص إن وجد"],
  },
  {
    day: 9,
    title: "اليوم التاسع",
    tasks: ["البدء أعمال الكهرباء تفتيح", "استلام مدير المنطقة"],
  },
  {
    day: 10,
    title: "اليوم العاشر",
    tasks: ["طلب استلام قسم الجودة"],
    deliveries: ["توريد خامات الديكور إن وجد"],
  },
  {
    day: 11,
    title: "اليوم الحادي عشر",
    tasks: ["مراجعة بلان السيراميك والرخام"],
  },
  {
    day: 12,
    title: "اليوم الثاني عشر",
    tasks: ["الرد من الموقع على بلان السيراميك والرخام"],
    deliveries: ["تصفية عهدة"],
  },
  {
    day: 13,
    title: "اليوم الثالث عشر",
    tasks: ["استكمال أعمال الجس"],
  },
  {
    day: 14,
    title: "اليوم الرابع عشر",
    tasks: ["إجازة نهاية الأسبوع"],
    deliveries: ["طلب عهدة"],
  },
  {
    day: 15,
    title: "اليوم الخامس عشر",
    tasks: ["الانتهاء من أعمال الجس", "صنايعي معجون جس"],
    deliveries: ["طلب نظافة الموقع بلان السيراميك والرخام"],
  },
  {
    day: 16,
    title: "اليوم السادس عشر",
    tasks: ["استكمال أعمال الكهرباء", "عمل ملاحظات معجون الجس"],
  },
  {
    day: 17,
    title: "اليوم السابع عشر",
    tasks: ["البدء صنايعي معجون الجس", "الانتهاء من معجون الجس"],
    deliveries: ["ارسال فيديو انتهاء المرحلة"],
  },
  {
    day: 18,
    title: "اليوم الثامن عشر",
    tasks: ["الانتهاء من أعمال الكهرباء", "استلام مدير المنطقة", "ارسال فيديو للعميل"],
    deliveries: ["تبيير لوحة الكهرباء", "استلام قسم الجودة انتهاء المرحلة"],
  },
]

const phase3Tasks: DayTask[] = [
  {
    day: 1,
    title: "اليوم الأول",
    tasks: [
      "التأكد من دفع العميل للمرحلة",
      "مراجعة مرحلة التأسيس جيداً لعدم وجود أخطاء بعد تركيب السيراميك",
      "استكمال التشوين إن وجد",
      "مراجعة الشرب جيداً بعد منسوب الردم بحلوق الأبواب والفلاش تنك",
    ],
    deliveries: [
      "توريد السيراميك والرخام",
      "تجهيز صنايعي سيراميك ورخام",
      "تشوين السيراميك والرخام",
      "نظافة الموقع جيداً من الجبس والأخشاب",
      "تليش الرش",
    ],
    notes: ["المراجعة مع قسم السيراميك بعدد السيراميك والرخام", "مراجعة حصن المكتب الفني"],
  },
  {
    day: 2,
    title: "اليوم الثاني",
    tasks: ["معاينة صنايعي السيراميك", "شرح تقسيط السيراميك للصنايعي مع الصنايعي", "مراجعة الشرب"],
    deliveries: ["طلب توريد السيراميك", "طلب نواقص السيراميك"],
  },
  {
    day: 3,
    title: "اليوم الثالث",
    tasks: [
      "تحديد الشرب + فصل فراغ",
      "وزنة الخيط",
      "مراجعة تصميم الحوائط",
      "تشوين خامات السيراميك (الأسمنت - الرمل - مادة لزق السيراميك)",
    ],
    deliveries: ["فرش الرمل على مستوى الشرب", "توزيع السيراميك بشكل جيد", "توزيع الرخام بشكل جيد"],
  },
  {
    day: 4,
    title: "اليوم الرابع",
    tasks: [
      "البدء في المطبخ حوائط - صنايعي + مساعد",
      "البدء في الحمام رقم 1 حوائط - صنايعي + مساعد",
      "البدء في الحمام رقم 2 حوائط - صنايعي + مساعد",
      "البدء في الحمام رقم 3 حوائط - صنايعي + مساعد",
    ],
  },
  {
    day: 5,
    title: "اليوم الخامس",
    tasks: [
      "استكمال أعمال حوائط المطبخ + الانتهاء منه - صنايعي + مساعد",
      "استكمال حوائط حمام رقم 1 + الانتهاء منه - صنايعي + مساعد",
      "استكمال حوائط حمام رقم 2 + الانتهاء منه - صنايعي + مساعد",
      "استكمال حوائط حمام رقم 3 + الانتهاء منه - صنايعي + مساعد",
    ],
  },
  {
    day: 6,
    title: "اليوم السادس - أرضيات",
    tasks: [
      "البدء في غرفة رقم 1 أرضيات - صنايعي + مساعد",
      "البدء في غرفة رقم 2 أرضيات - صنايعي + مساعد",
      "البدء في غرفة رقم 3 أرضيات - صنايعي + مساعد",
      "البدء في أرضية المطبخ - صنايعي + مساعد + الانتهاء منه",
      "البدء في أرضية الليفنج - صنايعي + مساعد + الانتهاء منه",
    ],
    deliveries: ["توريد نواقص السيراميك + اكسسوارات الزواية", "تجهيز وزنات أرضيات غرفة رقم 1، 2، 3"],
  },
  {
    day: 7,
    title: "اليوم السابع",
    tasks: ["إجازة نهاية الأسبوع"],
    deliveries: ["طلب خامات", "طلب عهدة"],
  },
  {
    day: 8,
    title: "اليوم الثامن",
    tasks: [
      "استكمال أعمال غرفة رقم 1 أرضيات والانتهاء - صنايعي + مساعد",
      "استكمال أعمال غرفة رقم 2 أرضيات والانتهاء - صنايعي + مساعد",
      "استكمال أعمال غرفة رقم 3 أرضيات والانتهاء - صنايعي + مساعد",
      "البدء في أرضية حمام رقم 1 + الانتهاء منه - صنايعي + مساعد",
    ],
  },
  {
    day: 9,
    title: "اليوم التاسع",
    tasks: [
      "البدء في أرضية الحمام رقم 2 + الانتهاء منه - صنايعي + مساعد",
      "البدء في أرضية الحمام رقم 3 + الانتهاء منه - صنايعي + مساعد",
      "البدء في أرضية الريسبشن - 2 صنايعي + مساعد",
    ],
  },
  {
    day: 10,
    title: "اليوم العاشر",
    tasks: ["استكمال أرضيات الريسبشن - 2 صنايعي + مساعد", "البدء في تركيب الوزرة + الانتهاء منه - صنايعي"],
    deliveries: ["طلب رخام الموقع", "تجهيز صنايعي رخام", "استلام مدير المنطقة", "طلب قسم الجودة"],
  },
  {
    day: 11,
    title: "اليوم الحادي عشر",
    tasks: ["تركيب رخام الموقع - صنايعي + مساعد", "استكمال تركيب الأرضيات إن وجد"],
    deliveries: ["توريد رخام الموقع", "مراجعة الخامات"],
  },
  {
    day: 12,
    title: "اليوم الثاني عشر",
    tasks: ["استكمال تركيب رخام الموقع - صنايعي + مساعد + الانتهاء منه", "استكمال تركيب الخورنقات"],
    deliveries: ["طلب الدفعة الرابعة", "طلب عهدة"],
  },
  {
    day: 13,
    title: "اليوم الثالث عشر - الرابع عشر",
    tasks: ["إجازة نهاية الأسبوع"],
  },
  {
    day: 15,
    title: "اليوم الخامس عشر",
    tasks: ["استكمال سقية الموقع", "ترتيب ونظافة الموقع", "استلام مهندس الموقع", "سقية الموقع كامل"],
    notes: [
      "توحيد مقاس الوزرة",
      "مراعاة الميول في الحمامات",
      "مراجعة مقاسات كبائن الشاور ومراجعتها في التقسيط",
      "مراجعة اتجاه السيراميك الباركية",
      "تركيب عتب الغرف",
      "مراجعة مناسيب بيب الصرف",
    ],
  },
  {
    day: 16,
    title: "اليوم السادس عشر",
    tasks: ["استلام مدير المنطقة", "ارسال فيديو للعميل شرح"],
    deliveries: ["طلب استلام قسم الجودة"],
  },
  {
    day: 17,
    title: "اليوم السابع عشر",
    tasks: ["استلام قسم الجودة للملاحظات", "ارسال فيديو للجودة"],
  },
  {
    day: 18,
    title: "اليوم الثامن عشر",
    tasks: ["الانتهاء من الملاحظات"],
    deliveries: ["ارسال فيديو انتهاء المرحلة"],
  },
]

const phase4Tasks: DayTask[] = [
  {
    day: 1,
    title: "اليوم الأول",
    tasks: ["التأكد من دفع العميل للمرحلة", "مراجعة بلان الديكور جيداً مع المصمم", "مراجعة حصر خامات الموقع جيداً"],
    deliveries: [
      "تجهيز صنايعي دهانات",
      "طلب توريد خامات تشطيب الدهانات",
      "طلب توريد خامات تشطيب الكهرباء",
      "طلب توريد الأبواب",
      "طلب توريد فيتك إن وجد",
    ],
  },
  {
    day: 2,
    title: "اليوم الثاني",
    tasks: [
      "تغليف الأرضيات بالكرتون جيداً بالكامل الموقع",
      "البدء في أعمال تأسيس غرفة 1 - صنايعي - دهان سيلر + صنفرة الأسقف",
      "البدء في أعمال تأسيس غرفة 2 - صنايعي + 2 مساعدين - دهان سيلر + صنفرة الأسقف",
      "البدء في أعمال تأسيس غرفة 3 - صنايعي - دهان سيلر + صنفرة الأسقف",
      "البدء في تأسيس الحوائط - دهان سيلر + مراشمة لثلاث الغرف - 3 صنايعي + 2 مساعد",
    ],
  },
  {
    day: 3,
    title: "اليوم الثالث",
    tasks: [
      "استكمال تأسيس غرفة 1 - سكينة حوائط + سحب معجون أسقف - صنايعي",
      "استكمال تأسيس غرفة 2 - سكينة حوائط + سحب معجون أسقف - صنايعي + 2 مساعدين",
      "استكمال تأسيس غرفة 3 - سكينة حوائط + سحب معجون أسقف - صنايعي",
    ],
  },
  {
    day: 4,
    title: "اليوم الرابع",
    tasks: [
      "استكمال تأسيس غرفة 1 - سحب 2 سكينة + معجون والانتهاء منه",
      "استكمال تأسيس غرفة 2 - سحب 2 سكينة + معجون والانتهاء منه",
      "استكمال تأسيس غرفة 3 - سحب 2 سكينة + معجون والانتهاء منه",
      "البدء في سقف حمام 1 - سيلر + صنفرة + سحب معجون والانتهاء منه",
      "البدء في سقف حمام 2 - سيلر + صنفرة + سحب معجون والانتهاء منه",
      "البدء في سقف حمام 3 - سيلر + صنفرة + سحب معجون والانتهاء منه",
    ],
  },
  {
    day: 5,
    title: "اليوم الخامس",
    tasks: [
      "البدء في غرفة 1 - صنفرة حوائط وأسقف - مساعد والانتهاء منه",
      "البدء في غرفة 2 - صنفرة حوائط وأسقف - مساعد والانتهاء منه",
      "البدء في غرفة 3 - صنفرة حوائط وأسقف - مساعد والانتهاء منه",
      "البدء في حمام 1 - صنفرة - مساعد والانتهاء منه",
      "البدء في حمام 2 - صنفرة - مساعد والانتهاء منه",
      "البدء في حمام 3 - صنفرة - مساعد والانتهاء منه",
      "البدء في الليفنج - سيلر + مراشمة + سقف",
      "البدء في الريسبشن - سيلر + مراشمة + سقف",
    ],
  },
  {
    day: 6,
    title: "اليوم السادس",
    tasks: [
      "استكمال الريسبشن - معجون سقف والانتهاء منه",
      "استكمال الليفنج - معجون سقف والانتهاء منه",
      "استكمال غرفة 1 - دهان سقف + حوائط بطانة",
      "استكمال غرفة 2 - دهان سقف + حوائط بطانة",
      "استكمال غرفة 3 - دهان سقف + حوائط بطانة",
      "البدء في تأسيس المطبخ - دهان سيلر + معجون + صنفرة",
    ],
  },
  {
    day: 7,
    title: "اليوم السابع",
    tasks: ["إجازة نهاية الأسبوع"],
    deliveries: ["طلب عهدة", "تصفية عهدة", "تنسيق الصحي ورفع المقاسات والمراجعة مع المكتب الفني"],
  },
  {
    day: 8,
    title: "اليوم الثامن",
    tasks: [
      "البدء في الريسبشن - سكينة 2 معجون حوائط - 2 صنايعي + مساعد والانتهاء منه",
      "البدء في الليفنج - سكينة 2 معجون حوائط - 2 صنايعي + مساعد والانتهاء منه",
      "البدء في الطرقة - أسقف وحوائط - صنايعي + مساعد والانتهاء منه",
    ],
  },
  {
    day: 9,
    title: "اليوم التاسع",
    tasks: [
      "البدء في الريسبشن - صنفرة حوائط + سقف - الانتهاء منه",
      "البدء في الليفنج - صنفرة حوائط + سقف - الانتهاء منه",
      "استكمال الريسبشن - دهان حوائط + أسقف + بطانة - الانتهاء منه",
      "استكمال الليفنج - دهان حوائط + أسقف + بطانة",
    ],
    deliveries: [
      "توريد خامات تشطيب الدهانات",
      "توريد خامات تشطيب الكهرباء",
      "استلام مدير المنطقة",
      "استلام قسم الجودة الدهانات",
    ],
  },
  {
    day: 10,
    title: "اليوم العاشر",
    tasks: ["البدء في الكهرباء تشطيب - 3 صنايعي كهربائي"],
    deliveries: [
      "توريد وتركيب الألمنتال",
      "توريد وتركيب الأبواب",
      "توريد وتركيب التجاليد",
      "معاينة سيكوريت",
      "معاينة الألمنتال",
      "معاينة قسم النجارة",
      "توريد وتركيب الفيتك",
      "توريد نواقص الدهانات",
      "طلب توريد الفيتك",
      "مراجعة بلان الديكور جيداً مع المصمم",
      "مراجعة حصر خامات الموقع جيداً",
      "تجهيز صنايعي دهانات",
    ],
  },
  {
    day: 11,
    title: "اليوم الحادي عشر",
    tasks: [
      "استكمال كهرباء تشطيب - الانتهاء منه",
      "استكمال أعمال نجارة تشطيب - الانتهاء منه",
      "استكمال أعمال الألمنتال - الانتهاء منه إن وجد",
      "استكمال أعمال فيتك إن وجد",
    ],
  },
  {
    day: 12,
    title: "اليوم الثاني عشر",
    tasks: [
      "البدء في غرفة 1 - تشطيب حوائط + أسقف 2 وش",
      "البدء في غرفة 2 - تشطيب حوائط + أسقف 2 وش - 3 صنايعي + 2 مساعدين",
      "البدء في غرفة 3 - تشطيب حوائط + أسقف 2 وش",
      "البدء في حمام 1 - سقف تشطيب - الانتهاء منه",
      "البدء في حمام 2 - سقف تشطيب - الانتهاء منه",
      "البدء في حمام 3 - سقف تشطيب - الانتهاء منه",
    ],
    deliveries: ["طلب شفاطات الموقع"],
  },
  {
    day: 13,
    title: "اليوم الثالث عشر",
    tasks: [
      "استكمال الغرف إن وجد تشطيب",
      "البدء في الليفنج - تشطيب سقف + حوائط - 3 صنايعي + 2 مساعدين",
      "البدء في الريسبشن - تشطيب سقف + حوائط",
      "البدء في المطبخ - سقف تشطيب والانتهاء منه",
    ],
    deliveries: ["طلب توريد الصحي", "تجهيز سباك"],
  },
  {
    day: 14,
    title: "اليوم الرابع عشر",
    tasks: ["إجازة نهاية الأسبوع"],
    deliveries: ["طلب عهدة"],
  },
  {
    day: 15,
    title: "اليوم الخامس عشر",
    tasks: ["استكمال ريسبشن - تشطيب أسقف وحوائط", "استكمال ليفنج - تشطيب أسقف وحوائط"],
  },
  {
    day: 16,
    title: "اليوم السادس عشر",
    tasks: ["تركيب ورق الحائط"],
    deliveries: ["توريد صحي + خامات تشطيب صحي", "توريد نواقص الموقع", "توريد خامات الكهرباء إن وجد"],
  },
  {
    day: 17,
    title: "اليوم السابع عشر",
    tasks: ["البدء في السباكة تشطيب", "البدء في الكهرباء تشطيب"],
    deliveries: ["تجهيز صنايعي رخام تشطيب", "طلب قسم الجودة"],
  },
  {
    day: 18,
    title: "اليوم الثامن عشر",
    tasks: ["استكمال دهانات تشطيب", "استكمال الكهرباء تشطيب"],
  },
  {
    day: 19,
    title: "اليوم التاسع عشر",
    tasks: ["تركيب السيكوريت", "البدء في رخام الموقع تشطيب"],
  },
  {
    day: 20,
    title: "اليوم العشرون",
    tasks: ["استكمال رخام الموقع تشطيب"],
  },
  {
    day: 21,
    title: "اليوم الحادي والعشرون",
    tasks: ["إجازة نهاية الأسبوع"],
    deliveries: ["طلب عهدة"],
  },
  {
    day: 22,
    title: "اليوم الثاني والعشرون",
    tasks: ["استكمال رخام الموقع تشطيب - الانتهاء منه"],
  },
  {
    day: 23,
    title: "اليوم الثالث والعشرون",
    tasks: ["استلام مدير المنطقة", "استلام قسم الجودة"],
  },
  {
    day: 24,
    title: "اليوم الرابع والعشرون",
    tasks: ["عمل ملاحظات السباكة"],
  },
  {
    day: 25,
    title: "اليوم الخامس والعشرون",
    tasks: ["عمل ملاحظات الكهرباء"],
  },
  {
    day: 26,
    title: "اليوم السادس والعشرون",
    tasks: ["عمل ملاحظات الرخام"],
  },
  {
    day: 27,
    title: "اليوم السابع والعشرون",
    tasks: ["عمل ملاحظات الدهانات"],
    deliveries: ["طلب استلام الجودة"],
  },
  {
    day: 28,
    title: "اليوم الثامن والعشرون",
    tasks: ["إجازة نهاية الأسبوع"],
  },
  {
    day: 29,
    title: "اليوم التاسع والعشرون",
    tasks: ["استكمال ملاحظات الموقع", "استلام مدير المنطقة"],
  },
  {
    day: 30,
    title: "اليوم الثلاثون",
    tasks: ["استلام قسم الجودة", "ارسال فيديو بانتهاء المرحلة"],
    notes: ["3 صنايعي + 2 مساعد طوال المرحلة"],
  },
]

export function PhasesTimeline() {
  const [selectedPhase, setSelectedPhase] = useState<"phase1" | "phase2" | "phase3" | "phase4">("phase1")

  const phases = {
    phase1: { tasks: phase1Tasks, title: "المرحلة الأولى - التأسيس", days: 15 },
    phase2: { tasks: phase2Tasks, title: "المرحلة الثانية - محارة وجبسون بورد", days: 18 },
    phase3: { tasks: phase3Tasks, title: "المرحلة الثالثة - سيراميك ورخام", days: 18 },
    phase4: { tasks: phase4Tasks, title: "المرحلة الرابعة - التسليم", days: 30 },
  }

  const currentPhase = phases[selectedPhase]

  return (
    <section className="py-8 px-4">
      <div className="max-w-5xl mx-auto">
        {/* Phase Selector */}
        <div className="grid grid-cols-2 md:grid-cols-4 gap-3 mb-8" dir="rtl">
          <Button
            variant={selectedPhase === "phase1" ? "default" : "outline"}
            onClick={() => setSelectedPhase("phase1")}
            className={
              selectedPhase === "phase1"
                ? "bg-primary text-primary-foreground hover:bg-primary/90"
                : "border-border text-muted-foreground hover:text-primary hover:border-primary/50"
            }
          >
            <div className="text-center">
              <div className="font-bold">المرحلة الأولى</div>
              <div className="text-xs opacity-70">التأسيس - 15 يوم</div>
            </div>
          </Button>
          <Button
            variant={selectedPhase === "phase2" ? "default" : "outline"}
            onClick={() => setSelectedPhase("phase2")}
            className={
              selectedPhase === "phase2"
                ? "bg-primary text-primary-foreground hover:bg-primary/90"
                : "border-border text-muted-foreground hover:text-primary hover:border-primary/50"
            }
          >
            <div className="text-center">
              <div className="font-bold">المرحلة الثانية</div>
              <div className="text-xs opacity-70">محارة وجبس - 18 يوم</div>
            </div>
          </Button>
          <Button
            variant={selectedPhase === "phase3" ? "default" : "outline"}
            onClick={() => setSelectedPhase("phase3")}
            className={
              selectedPhase === "phase3"
                ? "bg-primary text-primary-foreground hover:bg-primary/90"
                : "border-border text-muted-foreground hover:text-primary hover:border-primary/50"
            }
          >
            <div className="text-center">
              <div className="font-bold">المرحلة الثالثة</div>
              <div className="text-xs opacity-70">سيراميك ورخام - 18 يوم</div>
            </div>
          </Button>
          <Button
            variant={selectedPhase === "phase4" ? "default" : "outline"}
            onClick={() => setSelectedPhase("phase4")}
            className={
              selectedPhase === "phase4"
                ? "bg-primary text-primary-foreground hover:bg-primary/90"
                : "border-border text-muted-foreground hover:text-primary hover:border-primary/50"
            }
          >
            <div className="text-center">
              <div className="font-bold">المرحلة الرابعة</div>
              <div className="text-xs opacity-70">التسليم - 30 يوم</div>
            </div>
          </Button>
        </div>

        {/* Phase Title */}
        <Card className="bg-gold/10 border-gold/30 p-4 mb-6">
          <div className="flex items-center justify-between">
            <h2 className="text-xl font-bold text-gold">{currentPhase.title}</h2>
            <Badge className="bg-gold text-black">{currentPhase.days} يوم</Badge>
          </div>
        </Card>

        {/* Timeline */}
        <ScrollArea className="h-[600px]">
          <div className="space-y-4 pr-4">
            {currentPhase.tasks.map((dayTask, index) => (
              <Card key={index} className="bg-zinc-900 border-zinc-800 overflow-hidden">
                {/* Day Header */}
                <div className="bg-zinc-800 px-4 py-3 flex items-center justify-between">
                  <div className="flex items-center gap-3">
                    <div className="w-10 h-10 rounded-full bg-gold/10 flex items-center justify-center">
                      <Clock className="w-5 h-5 text-gold" />
                    </div>
                    <div>
                      <h3 className="font-bold text-zinc-100">{dayTask.title}</h3>
                      <p className="text-xs text-zinc-500">اليوم {dayTask.day}</p>
                    </div>
                  </div>
                  <Badge className="bg-gold/10 text-gold border-none">{dayTask.tasks.length} مهام</Badge>
                </div>

                <div className="p-4 space-y-4">
                  {/* Tasks */}
                  {dayTask.tasks.length > 0 && (
                    <div>
                      <h4 className="text-sm font-semibold text-zinc-300 mb-2 flex items-center gap-2">
                        <Hammer className="w-4 h-4 text-gold" />
                        الأعمال:
                      </h4>
                      <div className="space-y-2">
                        {dayTask.tasks.map((task, i) => (
                          <div key={i} className="flex items-start gap-2 text-sm text-zinc-400">
                            <CheckCircle2 className="w-4 h-4 text-green-500 flex-shrink-0 mt-0.5" />
                            {task}
                          </div>
                        ))}
                      </div>
                    </div>
                  )}

                  {/* Deliveries */}
                  {dayTask.deliveries && dayTask.deliveries.length > 0 && (
                    <div>
                      <h4 className="text-sm font-semibold text-blue-400 mb-2 flex items-center gap-2">
                        <Truck className="w-4 h-4" />
                        التوريدات والطلبات:
                      </h4>
                      <div className="space-y-2">
                        {dayTask.deliveries.map((delivery, i) => (
                          <div key={i} className="flex items-start gap-2 text-sm text-zinc-400">
                            <Package className="w-4 h-4 text-blue-400 flex-shrink-0 mt-0.5" />
                            {delivery}
                          </div>
                        ))}
                      </div>
                    </div>
                  )}

                  {/* Notes */}
                  {dayTask.notes && dayTask.notes.length > 0 && (
                    <div className="bg-amber-500/10 border border-amber-500/20 rounded-lg p-3">
                      <h4 className="text-sm font-semibold text-amber-400 mb-2 flex items-center gap-2">
                        <AlertTriangle className="w-4 h-4" />
                        ملاحظات هامة:
                      </h4>
                      <div className="space-y-1">
                        {dayTask.notes.map((note, i) => (
                          <p key={i} className="text-sm text-amber-200">
                            • {note}
                          </p>
                        ))}
                      </div>
                    </div>
                  )}
                </div>
              </Card>
            ))}
          </div>
        </ScrollArea>
      </div>
    </section>
  )
}
